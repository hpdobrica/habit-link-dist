import{q as K,s as J,P as Q,Q as U,r as D,R as _,f as N,l as $,S as B,C as z,T as w,D as X}from"./BG282lcn.js";function V(e){return Q()?(U(e),!0):!1}function P(){const e=new Set,n=l=>{e.delete(l)};return{on:l=>{e.add(l);const d=()=>n(l);return V(d),{off:d}},off:n,trigger:(...l)=>Promise.all(Array.from(e).map(d=>d(...l))),clear:()=>{e.clear()}}}const I=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Y=Object.prototype.toString,Z=e=>Y.call(e)==="[object Object]",ee=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);function te(e,n){function t(...i){return new Promise((u,l)=>{Promise.resolve(e(()=>n.apply(this,i),{fn:n,thisArg:this,args:i})).then(u).catch(l)})}return t}const H=e=>e();function ne(e=H){const n=D(!0);function t(){n.value=!1}function i(){n.value=!0}const u=(...l)=>{n.value&&e(...l)};return{isActive:_(n),pause:t,resume:i,eventFilter:u}}function re(e){return $()}function C(e){return Array.isArray(e)?e:[e]}function oe(e,n,t={}){const{eventFilter:i=H,...u}=t;return N(e,te(i,n),u)}function ie(e,n,t={}){const{eventFilter:i,...u}=t,{eventFilter:l,pause:d,resume:r,isActive:a}=ne(i);return{stop:oe(e,n,{...u,eventFilter:l}),pause:d,resume:r,isActive:a}}function ae(e,n=!0,t){re()?K(e,t):n?e():J(e)}function ue(e,n,t){return N(e,n,{...t,immediate:!0})}const E=I?window:void 0,le=I?window.document:void 0;function se(e){var n;const t=w(e);return(n=t==null?void 0:t.$el)!=null?n:t}function L(...e){const n=[],t=()=>{n.forEach(r=>r()),n.length=0},i=(r,a,s,p)=>(r.addEventListener(a,s,p),()=>r.removeEventListener(a,s,p)),u=z(()=>{const r=C(w(e[0])).filter(a=>a!=null);return r.every(a=>typeof a!="string")?r:void 0}),l=ue(()=>{var r,a;return[(a=(r=u.value)==null?void 0:r.map(s=>se(s)))!=null?a:[E].filter(s=>s!=null),C(w(u.value?e[1]:e[0])),C(X(u.value?e[2]:e[1])),w(u.value?e[3]:e[2])]},([r,a,s,p])=>{if(t(),!(r!=null&&r.length)||!(a!=null&&a.length)||!(s!=null&&s.length))return;const c=Z(p)?{...p}:p;n.push(...r.flatMap(T=>a.flatMap(S=>s.map(O=>i(T,S,O,c)))))},{flush:"post"}),d=()=>{l(),t()};return V(t),d}const F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A="__vueuse_ssr_handlers__",ce=fe();function fe(){return A in F||(F[A]=F[A]||{}),F[A]}function de(e,n){return ce[e]||n}function pe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ge={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},M="vueuse-storage";function ye(e,n,t,i={}){var u;const{flush:l="pre",deep:d=!0,listenToStorageChanges:r=!0,writeDefaults:a=!0,mergeDefaults:s=!1,shallow:p,window:c=E,eventFilter:T,onError:S=o=>{console.error(o)},initOnMounted:O}=i,m=(p?B:D)(typeof n=="function"?n():n),y=z(()=>w(e));if(!t)try{t=de("getDefaultStorage",()=>{var o;return(o=E)==null?void 0:o.localStorage})()}catch(o){S(o)}if(!t)return m;const h=w(n),k=pe(h),v=(u=i.serializer)!=null?u:ge[k],{pause:R,resume:j}=ie(m,()=>x(m.value),{flush:l,deep:d,eventFilter:T});N(y,()=>b(),{flush:l}),c&&r&&ae(()=>{t instanceof Storage?L(c,"storage",b,{passive:!0}):L(c,M,q),O&&b()}),O||b();function W(o,f){if(c){const g={key:y.value,oldValue:o,newValue:f,storageArea:t};c.dispatchEvent(t instanceof Storage?new StorageEvent("storage",g):new CustomEvent(M,{detail:g}))}}function x(o){try{const f=t.getItem(y.value);if(o==null)W(f,null),t.removeItem(y.value);else{const g=v.write(o);f!==g&&(t.setItem(y.value,g),W(f,g))}}catch(f){S(f)}}function G(o){const f=o?o.newValue:t.getItem(y.value);if(f==null)return a&&h!=null&&t.setItem(y.value,v.write(h)),h;if(!o&&s){const g=v.read(f);return typeof s=="function"?s(g,h):k==="object"&&!Array.isArray(g)?{...h,...g}:g}else return typeof f!="string"?f:v.read(f)}function b(o){if(!(o&&o.storageArea!==t)){if(o&&o.key==null){m.value=h;return}if(!(o&&o.key!==y.value)){R();try{(o==null?void 0:o.newValue)!==v.write(m.value)&&(m.value=G(o))}catch(f){S(f)}finally{o?J(j):j()}}}}function q(o){b(o.detail)}return m}const me={multiple:!0,accept:"*",reset:!1,directory:!1};function he(e){if(!e)return null;if(e instanceof FileList)return e;const n=new DataTransfer;for(const t of e)n.items.add(t);return n.files}function Se(e={}){const{document:n=le}=e,t=D(he(e.initialFiles)),{on:i,trigger:u}=P(),{on:l,trigger:d}=P();let r;n&&(r=n.createElement("input"),r.type="file",r.onchange=p=>{const c=p.target;t.value=c.files,u(t.value)},r.oncancel=()=>{d()});const a=()=>{t.value=null,r&&r.value&&(r.value="",u(null))},s=p=>{if(!r)return;const c={...me,...e,...p};r.multiple=c.multiple,r.accept=c.accept,r.webkitdirectory=c.directory,ee(c,"capture")&&(r.capture=c.capture),c.reset&&a(),r.click()};return{files:_(t),open:s,reset:a,onCancel:l,onChange:i}}function ve(e,n,t={}){const{window:i=E}=t;return ye(e,n,i==null?void 0:i.localStorage,t)}export{ve as a,Se as u};
