import{_}from"./BiCMaIm-.js";import{K as y,L as v,r as g,M as b,m as h,g as k,c as S,a as i,b as C,F as w,o as O,_ as F}from"./BFXac21V.js";import"./DHBfFcIx.js";function T(t){return y()?(v(t),!0):!1}function m(){const t=new Set,n=c=>{t.delete(c)};return{on:c=>{t.add(c);const o=()=>n(c);return T(o),{off:o}},off:n,trigger:(...c)=>Promise.all(Array.from(t).map(o=>o(...c))),clear:()=>{t.clear()}}}const x=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const D=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),E=x?window.document:void 0,N={multiple:!0,accept:"*",reset:!1,directory:!1};function A(t){if(!t)return null;if(t instanceof FileList)return t;const n=new DataTransfer;for(const r of t)n.items.add(r);return n.files}function I(t={}){const{document:n=E}=t,r=g(A(t.initialFiles)),{on:d,trigger:u}=m(),{on:c,trigger:o}=m();let e;n&&(e=n.createElement("input"),e.type="file",e.onchange=l=>{const a=l.target;r.value=a.files,u(r.value)},e.oncancel=()=>{o()});const s=()=>{r.value=null,e&&e.value&&(e.value="",u(null))},f=l=>{if(!e)return;const a={...N,...t,...l};e.multiple=a.multiple,e.accept=a.accept,e.webkitdirectory=a.directory,D(a,"capture")&&(e.capture=a.capture),a.reset&&s(),e.click()};return{files:b(r),open:f,reset:s,onCancel:c,onChange:d}}const j=h({__name:"profile",setup(t){const n=g(""),{files:r,open:d}=I({accept:"application/json",multiple:!1}),u=()=>{d()};k(r,o=>{if(o&&o.length>0){const e=o[0],s=new FileReader;s.onload=f=>{var a;n.value=(a=f.target)==null?void 0:a.result;const l=JSON.parse(n.value);Object.keys(l).forEach(function(p){localStorage.setItem(p,l[p])})},s.readAsText(e)}});const c=()=>{const o=JSON.stringify(localStorage);let e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),e.setAttribute("download","backup.json"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)};return(o,e)=>{const s=_;return O(),S(w,null,[i("div",{class:"content"},[e[0]||(e[0]=i("div",{class:"header"},[i("h1",null,"Profile/Settings")],-1)),i("div",{class:"cards-container"},[i("div",{class:"card",onClick:c},"Backup"),i("div",{class:"card",onClick:u},"Restore")])]),C(s)],64)}}}),R=F(j,[["__scopeId","data-v-3b9126f7"]]);export{R as default};
